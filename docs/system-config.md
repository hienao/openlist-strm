# 系统设置

系统设置页面让您能够根据个人需求定制 OpenList to Stream 的各项功能。本指南将帮助您了解各项设置的作用和使用方法。

## 🚀 快速开始

### 访问设置页面
1. 登录您的 OpenList to Stream 账户
2. 点击顶部导航栏的 **"系统设置"**
3. 配置您需要的功能选项

### 🔧 推荐初始设置
对于新用户，建议先配置以下基础设置：
- 🎬 **TMDB API 配置**：配置 TMDB API 密钥以获取电影和电视剧信息
- 📁 **媒体文件设置**：选择要生成 STRM 文件的媒体格式
- 🤖 **AI 识别设置**（可选）：配置 OpenAI API 以增强识别准确率
- 📊 **日志设置**：调整日志记录级别和保留时间

---

## 📁 媒体文件设置

### 支持的视频格式
选择要生成 STRM 文件的视频格式扩展名：

**默认支持的格式：**
- ✅ **MP4** - 最常见的视频格式
- ✅ **MKV** - 高质量视频容器格式
- ✅ **AVI** - 传统视频格式
- ✅ **MOV** - Apple QuickTime 格式
- ✅ **WMV** - Windows Media 格式
- ✅ **FLV** - Flash 视频格式
- ✅ **WEBM** - Web 优化的视频格式
- ✅ **M4V** - Apple 视频格式
- ✅ **3GP** - 移动设备视频格式
- ✅ **TS** - 传输流格式
- ✅ **MTS** - Sony 摄像机格式
- ✅ **M2TS** - 高清视频格式
- ✅ **VOB** - DVD 视频对象格式
- ✅ **F4V** - Flash 视频格式
- ✅ **ASF** - 高级流媒体格式
- ✅ **RM** - RealMedia 格式
- ✅ **RMVB** - RealMedia 可变比特率格式
- ✅ **DIVX** - DivX 编码格式
- ✅ **XVID** - Xvid 编码格式
- ✅ **DAT** - VCD 视频格式
- ✅ **MPG** - MPEG 视频格式
- ✅ **MPEG** - MPEG 视频格式

::: tip 💡 使用建议
- 通常建议选择所有常见格式以确保兼容性
- 根据您的媒体库实际使用的格式进行调整
- 可随时在设置中修改这些选项
:::

---

## 🎬 TMDB API 配置

自动获取电影和电视剧的详细信息（如演员、简介、评分等）。

### 获取 API 密钥
1. 访问 [TMDB 官网](https://www.themoviedb.org/) 注册免费账户
2. 登录后进入账户设置页面
3. 在 API 部分申请 API 密钥
4. 将获得的密钥填入系统设置中

### API 配置选项
- **API Key**：TMDB 提供的访问密钥（必需）
- **语言**：选择获取信息的语言（如中文、英文等）
- **地区**：设置地区偏好以获取相关内容

### 代理设置（可选）
如果您的网络环境需要使用代理：
- **启用代理**：勾选此项
- **代理地址**：格式如 `http://proxy.example.com:8080`
- **用户名/密码**：如果代理需要认证

::: tip 💡 配置建议
- TMDB API 密钥是免费的，注册后即可获得
- 建议配置与您主要使用语言相匹配的语言设置
- 如果无法访问 TMDB，可以考虑使用代理
:::

---

## 🔧 刮削设置

配置媒体信息的获取和处理方式。

### 刮削选项
- **启用刮削**：开启/关闭媒体信息自动获取
- **生成 NFO 文件**：为媒体创建 Kodi/Plex 兼容的信息文件
- **下载海报**：自动获取电影/电视剧海报图片
- **下载背景图**：获取高质量的背景图片
- **保留字幕**：处理时保留原始字幕文件
- **优先使用现有信息**：如果文件已存在信息，优先使用而不覆盖
- **覆盖现有文件**：强制覆盖已存在的文件

::: tip 💡 使用建议
- 首次使用时建议开启所有刮削选项以获得完整的媒体信息
- 后续可根据需要调整设置以节省时间和存储空间
- NFO 文件对于媒体库管理非常有用，建议开启
:::

---

## 🤖 AI 识别设置

配置 OpenAI API 以增强媒体识别的准确率。

### OpenAI API 配置
- **API Key**：OpenAI 提供的访问密钥
- **API Endpoint**：OpenAI API 接口地址（可自定义）
- **Temperature**：控制 AI 输出的随机性（0-1）
- **Max Tokens**：限制 AI 回复的最大长度

### 提示词设置
- **自定义提示词**：针对您的需求优化 AI 识别效果
- **恢复默认提示词**：一键重置为系统默认提示词
- **配置测试**：测试当前 AI 配置是否正常工作

::: tip 💡 使用建议
- AI 识别可以显著提高复杂媒体文件的识别准确率
- 建议根据您的媒体库特点调整提示词
- 使用配置测试功能确保 API 配置正确
:::

---

## 📊 日志设置

控制记录多少系统运行信息。

### 日志级别
| 设置级别 | 说明 | 推荐场景 |
|---------|------|----------|
| **ERROR** | 只记录错误 | 生产环境，减少存储 |
| **WARN** | 记录警告和错误 | 日常使用，平衡信息 |
| **INFO** | 记录一般信息 | 默认推荐，信息适中 |
| **DEBUG** | 记录详细信息 | 排查问题时的临时设置 |

### 日志保留时间
- **保留时间**：1-30 天（建议 7 天）
- 时间越长，占用的存储空间越多
- 建议根据磁盘空间合理设置

### 使用数据上报
- **启用上报**：帮助改进产品（可选）
- **关闭上报**：保护隐私，不发送使用数据

::: tip 💡 实用建议
- 日常使用建议选择 **INFO** 级别
- 遇到问题时可临时调整为 **DEBUG** 级别
- 问题解决后及时调回正常级别
:::

---

## 📋 可用功能

当前版本提供以下配置功能：

- **📁 媒体文件设置**：选择要生成 STRM 文件的视频格式（支持 22 种格式）
- **🎬 TMDB API 配置**：获取电影和电视剧的详细信息
- **🔧 刮削设置**：配置媒体信息获取、NFO 文件生成和图片下载
- **🤖 AI 识别设置**：使用 OpenAI API 提高识别准确率
- **📊 日志配置**：控制日志记录级别和保留时间

---

## 💡 使用建议

### 新用户配置指南
**必需设置**：
1. 配置 **TMDB API 密钥**（从 [TMDB 官网](https://www.themoviedb.org/) 获取）
2. 选择您需要的 **媒体文件格式**
3. 设置合适的 **日志级别**（推荐 INFO）

**可选设置**：
1. 配置 **AI 识别**（如果需要更准确的识别）
2. 启用 **刮削功能**（自动获取媒体信息）
3. 调整 **日志保留时间**（根据磁盘空间）

### 使用建议
- **首次使用**：建议开启所有刮削功能以获得完整的媒体信息
- **网络较慢**：可以关闭图片下载功能，只保留基本信息
- **存储空间有限**：减少日志保留时间
- **识别不准确**：配置 AI 识别功能提高准确率

### 故障排除
**TMDB API 无法使用**：
1. 检查 API 密钥是否正确
2. 确认网络连接正常
3. 考虑使用代理（如果网络受限）

**AI 识别不工作**：
1. 检查 OpenAI API 密钥配置
2. 使用配置测试功能验证
3. 调整提示词以提高识别效果

**刮削效果不佳**：
1. 检查媒体文件命名是否规范
2. 确认 TMDB API 连接正常
3. 尝试使用 AI 识别辅助

---

## 🆘 获取帮助

如果在设置过程中遇到问题：

1. **查看提示信息**：注意页面上的提示和说明
2. **参考相关文档**：
   - [常见问题](./faq.md)
   - [快速开始](./quick-start.md)
   - [开发指南](./dev.md)
3. **联系支持**：
   - 在 GitHub 提交 Issue
   - 查看项目文档获取更多信息

---

合理的系统设置可以让 OpenList to Stream 更好地为您服务。建议根据自己的使用习惯和网络环境，逐步调整各项设置，找到最适合您的配置方案。